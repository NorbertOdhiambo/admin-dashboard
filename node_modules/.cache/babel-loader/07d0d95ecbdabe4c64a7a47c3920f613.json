{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{EditorState,convertToRaw,ContentState,convertFromHTML}from'draft-js';import{Editor}from'react-draft-wysiwyg';import draftToHtml from'draftjs-to-html';import{useHistory}from\"react-router-dom\";import'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Editpost(props){var history=useHistory();var _useState=useState({title:props.postList[0].title}),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setuserInfo=_useState2[1];var onChangeValue=function onChangeValue(e){setuserInfo(_objectSpread(_objectSpread({},userInfo),{},_defineProperty({},e.target.name,e.target.value)));};var editorState=EditorState.createWithContent(ContentState.createFromBlockArray(convertFromHTML(props.postList[0].description)));var _useState3=useState(editorState),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var onEditorStateChange=function onEditorStateChange(editorState){setDescription(editorState);};var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),isError=_useState6[0],setError=_useState6[1];var PoemAddbooks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;event.preventDefault();event.persist();if(!(userInfo.description.value.length<50)){_context.next=6;break;}setError('Required, Add description Minimum length 50 characters');return _context.abrupt(\"return\");case 6:axios.post(\"http://localhost:8080/editArticle\",{title:userInfo.title,description:userInfo.description.value,ids:props.editPostID}).then(function(res){// then print response status\nif(res.data.success===true){history.push('/blog');}});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);throw _context.t0;case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function PoemAddbooks(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:PoemAddbooks,className:\"update__forms\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"myaccount-content\",children:\" Edit   \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-12\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"font-weight-bold\",children:[\" Title \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\" * \"}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:userInfo.title,onChange:onChangeValue,className:\"form-control\",placeholder:\"Title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-12 editor\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"font-weight-bold\",children:[\" Description \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\" * \"}),\" \"]}),/*#__PURE__*/_jsx(Editor,{editorState:description,toolbarClassName:\"toolbarClassName\",wrapperClassName:\"wrapperClassName\",editorClassName:\"editorClassName\",onEditorStateChange:onEditorStateChange}),/*#__PURE__*/_jsx(\"textarea\",{style:{display:'none'},disabled:true,ref:function ref(val){return userInfo.description=val;},value:draftToHtml(convertToRaw(description.getCurrentContent()))})]}),isError!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"errors\",children:[\" \",isError,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group col-sm-12 text-right\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn__theme\",children:\" Submit  \"})})]})]})})})});}export default Editpost;","map":{"version":3,"names":["React","useState","EditorState","convertToRaw","ContentState","convertFromHTML","Editor","draftToHtml","useHistory","axios","Editpost","props","history","title","postList","userInfo","setuserInfo","onChangeValue","e","target","name","value","editorState","createWithContent","createFromBlockArray","description","setDescription","onEditorStateChange","isError","setError","PoemAddbooks","event","preventDefault","persist","length","post","ids","editPostID","then","res","data","success","push","display","val","getCurrentContent"],"sources":["C:/Users/HP/Desktop/dashboard/src/views/editor/EditPost.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { EditorState, convertToRaw, ContentState, convertFromHTML } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport axios from 'axios';\r\n\r\nfunction Editpost(props) {\r\n    let history = useHistory();\r\n    const [userInfo, setuserInfo] = useState({\r\n        title: props.postList[0].title,\r\n    });\r\n    const onChangeValue = (e) => {\r\n        setuserInfo({\r\n            ...userInfo,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n    let editorState = EditorState.createWithContent(\r\n        ContentState.createFromBlockArray(\r\n            convertFromHTML(props.postList[0].description)\r\n        ));\r\n    const [description, setDescription] = useState(editorState);\r\n\r\n    const onEditorStateChange = (editorState) => {\r\n        setDescription(editorState);\r\n    }\r\n\r\n    const [isError, setError] = useState(null);\r\n    const PoemAddbooks = async (event) => {\r\n        try {\r\n            event.preventDefault();\r\n            event.persist();\r\n            if (userInfo.description.value.length < 50) {\r\n                setError('Required, Add description Minimum length 50 characters');\r\n                return;\r\n            }\r\n            axios.post(`http://localhost:8080/editArticle`, {\r\n                title: userInfo.title,\r\n                description: userInfo.description.value,\r\n                ids: props.editPostID\r\n            })\r\n                .then(res => { // then print response status\r\n                    if (res.data.success === true) {\r\n                        history.push('/blog');\r\n                    }\r\n                })\r\n        } catch (error) { throw error; }\r\n    }\r\n    return (\r\n        <div className=\"App\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <form onSubmit={PoemAddbooks} className=\"update__forms\">\r\n                        <h3 className=\"myaccount-content\"> Edit   </h3>\r\n                        <div className=\"form-row\">\r\n                            <div className=\"form-group col-md-12\">\r\n                                <label className=\"font-weight-bold\"> Title <span className=\"required\"> * </span> </label>\r\n                                <input type=\"text\" name=\"title\" value={userInfo.title} onChange={onChangeValue} className=\"form-control\" placeholder=\"Title\" required />\r\n                            </div>\r\n                            <div className=\"form-group col-md-12 editor\">\r\n                                <label className=\"font-weight-bold\"> Description <span className=\"required\"> * </span> </label>\r\n                                <Editor\r\n                                    editorState={description}\r\n                                    toolbarClassName=\"toolbarClassName\"\r\n                                    wrapperClassName=\"wrapperClassName\"\r\n                                    editorClassName=\"editorClassName\"\r\n                                    onEditorStateChange={onEditorStateChange}\r\n                                />\r\n                                <textarea style={{ display: 'none' }} disabled ref={(val) => userInfo.description = val} value={draftToHtml(convertToRaw(description.getCurrentContent()))} />\r\n                            </div>\r\n                            {isError !== null && <div className=\"errors\"> {isError} </div>}\r\n                            <div className=\"form-group col-sm-12 text-right\">\r\n                                <button type=\"submit\" className=\"btn btn__theme\"> Submit  </button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Editpost\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
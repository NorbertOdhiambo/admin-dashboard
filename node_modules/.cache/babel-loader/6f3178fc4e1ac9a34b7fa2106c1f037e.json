{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useMemo,useRef}from'react';import{Link}from'react-router-dom';import{Container as Ctn,Row,Col,Form,FormGroup,FormInput,FormSelect,FormTextarea,Button}from\"shards-react\";import{Container,Card,CardImg,CardText,CardBody,CardTitle// Button\n}from'reactstrap';import TableContainer from'./TableContainer';import axios from\"axios\";import PageTitle from\"../components/common/PageTitle\";import'bootstrap/dist/css/bootstrap.min.css';import{SelectColumnFilter}from'./filters';import{useParams}from'react-router-dom';// import './Order.css';\nimport{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ViewUsers=function ViewUsers(props){var id_ord=useRef();useEffect(function(){window.scrollTo(0,0);alluser();},[]);console.log(props.match);var taskRef=useRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orderId=_useState2[0],setOrderId=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),isuser=_useState4[0],setuser=_useState4[1];taskRef.current=isuser;var alluser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(ids){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;// axios.get(`http://localhost:8000/essay-helpers/api/getorders.php`)\naxios.get(\"https://graduate-essay-helpers.com/api/getorders.php\").then(function(res){// console.log(res.data.orderlist.orderdata)\nsetuser(res.data.orderlist.orderdata);});_context.next=7;break;case 4:_context.prev=4;_context.t0=_context[\"catch\"](0);throw _context.t0;case 7:case\"end\":return _context.stop();}}},_callee,null,[[0,4]]);}));return function alluser(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){setOrderId(event.target.value);};var openTask=function openTask(rowIndex){var id=taskRef.current[rowIndex].id;// 👇️ set value of input field\nsetOrderId(id);// let one = \"http://localhost:8000/essay-helpers/api/getorder.php\";\n// let two = \"http://localhost:8000/essay-helpers/api/getfiles.php\";\nvar one=\"https://graduate-essay-helpers.com/api/getorder.php\";var two=\"https://graduate-essay-helpers.com/api/getfiles.php\";var requestOne=axios.post(one,{ord_id:id});var requestTwo=axios.post(two,{ord_id:id});// axios.post(`http://localhost:8000/essay-helpers/api/getfiles.php`, {\n//     ord_id: id,\n// })\n//     .then(response => {\n//         console.log(response);\n//         console.log(props);\n//     })\naxios.all([requestOne,requestTwo]).then(axios.spread(function(){for(var _len=arguments.length,res=new Array(_len),_key=0;_key<_len;_key++){res[_key]=arguments[_key];}var resOne=res[0];var resTwo=res[1];console.log(resOne);console.log(resTwo);console.log(res);if(res[1].data.success===true){props.history.push({pathname:\"/assign/\",search:\"?id=\"+id,state:{rowIndex:res[0].data.orderlist.orderdata,files:res[1].data.filelist.filedata}});}else{props.history.push({pathname:\"/assign/\",search:\"?id=\"+id,state:{rowIndex:res[0].data.orderlist.orderdata}});}return;}));// props.history.push({ pathname: \"/assign/\", search: \"?id=\" + id, state: { rowIndex: rowIndex } });\n};console.log(isuser);// ==============================================================\nvar columns=useMemo(function(){return[{Header:'Order No',accessor:'id',disableSortBy:true,Filter:SelectColumnFilter,filter:'equals'},{Header:'User id',accessor:'user_id'},{Header:'Academic level',accessor:'academic_level'},{Header:'Title',accessor:'title'},{Header:'Deadline',accessor:'deadline'},{Header:'Total',accessor:'total'},{Header:'Order status',accessor:'order_status'},{Header:'Payment status',accessor:'payment_status'},{Header:'Action',Cell:function Cell(props){var rowIdx=props.row.id;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{name:\"assign_btn\",id:\"assign_btn\",onClick:function onClick(){return openTask(rowIdx);},children:props.row.original.order_status===\"ASSIGNED\"?/*#__PURE__*/_jsx(_Fragment,{children:\"Assigned\"}):props.row.original.order_status===\"DELIVERED\"?/*#__PURE__*/_jsx(_Fragment,{children:\"DELIVERED\"}):/*#__PURE__*/_jsx(_Fragment,{children:\"Assign\"})})});}// Cell: (props) => {\n//     // const rowIdx = props.row.id;\n//     const rowIdx = props.row.original.id;\n//     // const ord_id = openTask(rowIdx);\n//     console.log(props.row.original.id);\n//     return (<div><Link to={`/assign/${rowIdx}`}><Button className=\"btn\" theme=\"success\">Assign</Button></Link></div>)\n// }\n// Cell: (indRow) => {\n//     // const dev = id_ord.current[indRow].id;\n// }\n},{Header:'Date created',accessor:'created_at'}];},[]);return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"main-content-container px-4\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"mb-3 text-center\",style:{display:'flex',textAlign:'left'},children:\"My Orders\"}),/*#__PURE__*/_jsx(TableContainer,{columns:columns,data:isuser}),/*#__PURE__*/_jsx(\"br\",{})]});};export default ViewUsers;","map":{"version":3,"names":["React","useEffect","useState","useMemo","useRef","Link","Container","Ctn","Row","Col","Form","FormGroup","FormInput","FormSelect","FormTextarea","Button","Card","CardImg","CardText","CardBody","CardTitle","TableContainer","axios","PageTitle","SelectColumnFilter","useParams","ViewUsers","props","id_ord","window","scrollTo","alluser","console","log","match","taskRef","orderId","setOrderId","isuser","setuser","current","ids","get","then","res","data","orderlist","orderdata","handleChange","event","target","value","openTask","rowIndex","id","one","two","requestOne","post","ord_id","requestTwo","all","spread","resOne","resTwo","success","history","push","pathname","search","state","files","filelist","filedata","columns","Header","accessor","disableSortBy","Filter","filter","Cell","rowIdx","row","original","order_status","display","textAlign"],"sources":["C:/Users/HP/Desktop/dashboard/src/views/Orders.js"],"sourcesContent":["import React, { useEffect, useState, useMemo, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    Container as Ctn,\r\n    Row,\r\n    Col,\r\n    Form,\r\n    FormGroup,\r\n    FormInput,\r\n    FormSelect,\r\n    FormTextarea,\r\n    Button\r\n} from \"shards-react\";\r\nimport {\r\n    Container,\r\n    Card,\r\n    CardImg,\r\n    CardText,\r\n    CardBody,\r\n    CardTitle,\r\n    // Button\r\n} from 'reactstrap';\r\nimport TableContainer from './TableContainer';\r\nimport axios from \"axios\";\r\nimport PageTitle from \"../components/common/PageTitle\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { SelectColumnFilter } from './filters';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n// import './Order.css';\r\n\r\n\r\nconst ViewUsers = (props) => {\r\n\r\n    const id_ord = useRef();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n        alluser();\r\n    }, []);\r\n\r\n    console.log(props.match)\r\n\r\n    const taskRef = useRef();\r\n\r\n    const [orderId, setOrderId] = useState([]);\r\n\r\n    const [isuser, setuser] = useState([]);\r\n    taskRef.current = isuser;\r\n    const alluser = async (ids) => {\r\n        try {\r\n            // axios.get(`http://localhost:8000/essay-helpers/api/getorders.php`)\r\n            axios.get(`https://graduate-essay-helpers.com/api/getorders.php`)\r\n                .then(res => {\r\n                    // console.log(res.data.orderlist.orderdata)\r\n                    setuser(res.data.orderlist.orderdata);\r\n                })\r\n        } catch (error) { throw error; }\r\n    };\r\n\r\n\r\n    const handleChange = event => {\r\n        setOrderId(event.target.value);\r\n    };\r\n\r\n    const openTask = (rowIndex) => {\r\n        const id = taskRef.current[rowIndex].id;\r\n\r\n        // 👇️ set value of input field\r\n        setOrderId(id);\r\n\r\n        // let one = \"http://localhost:8000/essay-helpers/api/getorder.php\";\r\n        // let two = \"http://localhost:8000/essay-helpers/api/getfiles.php\";\r\n\r\n        let one = \"https://graduate-essay-helpers.com/api/getorder.php\";\r\n        let two = \"https://graduate-essay-helpers.com/api/getfiles.php\";\r\n\r\n        const requestOne = axios.post(one, { ord_id: id });\r\n\r\n        const requestTwo = axios.post(two, { ord_id: id });\r\n\r\n        // axios.post(`http://localhost:8000/essay-helpers/api/getfiles.php`, {\r\n        //     ord_id: id,\r\n        // })\r\n        //     .then(response => {\r\n        //         console.log(response);\r\n        //         console.log(props);\r\n        //     })\r\n\r\n        axios.all([requestOne, requestTwo])\r\n            .then(axios.spread((...res) => {\r\n                const resOne = res[0]\r\n                const resTwo = res[1]\r\n                console.log(resOne);\r\n                console.log(resTwo);\r\n                console.log(res);\r\n                if (res[1].data.success === true) {\r\n                    props.history.push({ pathname: \"/assign/\", search: \"?id=\" + id, state: { rowIndex: res[0].data.orderlist.orderdata, files: res[1].data.filelist.filedata } });\r\n                }\r\n                else {\r\n                    props.history.push({ pathname: \"/assign/\", search: \"?id=\" + id, state: { rowIndex: res[0].data.orderlist.orderdata } });\r\n                }\r\n                return;\r\n            }))\r\n\r\n\r\n        // props.history.push({ pathname: \"/assign/\", search: \"?id=\" + id, state: { rowIndex: rowIndex } });\r\n    }\r\n\r\n    console.log(isuser);\r\n\r\n    // ==============================================================\r\n\r\n\r\n    const columns = useMemo(\r\n        () => [\r\n            {\r\n                Header: 'Order No',\r\n                accessor: 'id',\r\n                disableSortBy: true,\r\n                Filter: SelectColumnFilter,\r\n                filter: 'equals',\r\n            },\r\n            {\r\n                Header: 'User id',\r\n                accessor: 'user_id',\r\n            },\r\n            {\r\n                Header: 'Academic level',\r\n                accessor: 'academic_level',\r\n            },\r\n            {\r\n                Header: 'Title',\r\n                accessor: 'title',\r\n            },\r\n            {\r\n                Header: 'Deadline',\r\n                accessor: 'deadline',\r\n            },\r\n            {\r\n                Header: 'Total',\r\n                accessor: 'total',\r\n            },\r\n            {\r\n                Header: 'Order status',\r\n                accessor: 'order_status',\r\n            },\r\n            {\r\n                Header: 'Payment status',\r\n                accessor: 'payment_status',\r\n            },\r\n            {\r\n                Header: 'Action',\r\n                Cell: (props) => {\r\n                    const rowIdx = props.row.id;\r\n                    return (\r\n                        <div>\r\n                            <Button\r\n                                name=\"assign_btn\"\r\n                                id=\"assign_btn\"\r\n                                onClick={() => openTask(rowIdx)}\r\n                            >\r\n                                {props.row.original.order_status === \"ASSIGNED\" ? <>Assigned</> : props.row.original.order_status === \"DELIVERED\" ? <>DELIVERED</> : <>Assign</>}\r\n                            </Button>\r\n                        </div>\r\n                    )\r\n                },\r\n                // Cell: (props) => {\r\n                //     // const rowIdx = props.row.id;\r\n                //     const rowIdx = props.row.original.id;\r\n                //     // const ord_id = openTask(rowIdx);\r\n                //     console.log(props.row.original.id);\r\n                //     return (<div><Link to={`/assign/${rowIdx}`}><Button className=\"btn\" theme=\"success\">Assign</Button></Link></div>)\r\n                // }\r\n                // Cell: (indRow) => {\r\n                //     // const dev = id_ord.current[indRow].id;\r\n                // }\r\n            },\r\n            {\r\n                Header: 'Date created',\r\n                accessor: 'created_at',\r\n            },\r\n\r\n        ],\r\n        []\r\n    );\r\n\r\n    return (\r\n        <Container fluid className=\"main-content-container px-4\">\r\n            <h3 class=\"mb-3 text-center\" style={{ display: 'flex', textAlign: 'left' }}>My Orders</h3>\r\n\r\n            <TableContainer\r\n                columns={columns}\r\n                data={isuser}\r\n            />\r\n            <br />\r\n            {/* <br />\r\n                <h3 class=\"mb-3 text-center\" style={{ display: 'flex', textAlign: 'left' }}>In Progress</h3>\r\n                <TableContainer\r\n                    columns={columns}\r\n                    data={isuser}\r\n                /> */}\r\n\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ViewUsers;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
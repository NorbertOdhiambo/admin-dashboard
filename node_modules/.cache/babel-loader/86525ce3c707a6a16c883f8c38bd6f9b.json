{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{Container,Card,CardHeader,ListGroup,ListGroupItem,Row,Col,Form,FormGroup,FormInput,FormSelect,FormTextarea,DatePicker,FormCheckbox,Button}from\"shards-react\";import PageTitle from\"./../components/common/PageTitle\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faFileAlt,faSpinner,faTrash}from'@fortawesome/free-solid-svg-icons';import BlogPosts from'./BlogPosts';import BlogPost from'./BlogPost';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Blog=function Blog(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),fileUrl=_useState2[0],setFileUrl=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),fileInfo=_useState4[0],setFileInfo=_useState4[1];var _useState5=useState({file_url:\"\"}),_useState6=_slicedToArray(_useState5,2),fileName=_useState6[0],setfileName=_useState6[1];function uploadFile(e){var file=e.target.files[0];//the file\nvar reader=new FileReader();//this for convert to Base64 \nreader.readAsDataURL(file);//start conversion...\nreader.onload=function(e){//.. once finished..\nvar rawLog=reader.result.split(',')[1];//extract only thee file data part\nvar dataSend={dataReq:{data:rawLog,name:file.name,type:file.type},fname:\"uploadFilesToGoogleDrive\"};//preapre info to send to API\nfetch('https://script.google.com/macros/s/AKfycbxrJ9OhkB7n0QdO3hPAbyuQbFJ6f9Hv2C5AK--5kcCwGqP0dilfzKyj8vK6aoK1dQOO/exec',//your AppsScript URL\n{method:\"POST\",body:JSON.stringify(dataSend)})//send to Api\n.then(function(res){return res.json();}).then(function(a){console.log(a);//See response\nsetFileUrl(a);setFileInfo(file);}).catch(function(e){return console.log(e);});// Or Error in console\n};setfileName(file);}var submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var dtArr,one,two,requestOne,requestTwo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dtArr={// name: value.name,\n// email: value.email,\n// user_id: value.id,\n// title: location.state.getData[0].title,\n// message: sendDoc.message,\n// ord_id: location.state.getData[0].id,\n// conf_upload: sendDoc.conf_upload.toString(),\nfile_url:fileUrl.url,file_name:fileInfo.name,file_type:fileInfo.type,file_size:fileInfo.size};// let one = \"http://localhost:8000/essay-helpers/api/insertblog.php\";\n// let two = \"http://localhost:8000/essay-helpers/api/getblog.php\";\none=\"https://graduate-essay-helpers.com/api/insertblog.php\";two=\"https://graduate-essay-helpers.com/api/getblog.php\";requestOne=axios.post(one,dtArr);requestTwo=axios.post(two,dtArr);_context.prev=5;event.preventDefault();event.persist();axios.all([requestOne,requestTwo]).then(axios.spread(function(){for(var _len=arguments.length,res=new Array(_len),_key=0;_key<_len;_key++){res[_key]=arguments[_key];}console.log(res);alert(\"blog document uploaded successfully\");window.location.reload();}));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](5);throw _context.t0;case 14:case\"end\":return _context.stop();}}},_callee,null,[[5,11]]);}));return function submitForm(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"main-content-container px-4 pb-4\",children:[/*#__PURE__*/_jsx(Row,{noGutters:true,className:\"page-header py-4\",children:/*#__PURE__*/_jsx(PageTitle,{title:\"Blog\",subtitle:\"Upload to blog page\",className:\"text-sm-left mb-3\"})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsx(Form,{onSubmit:submitForm,children:/*#__PURE__*/_jsxs(FormGroup,{className:\"\",children:[/*#__PURE__*/_jsx(FormInput,{type:\"file\",name:\"file_url\",accept:\"pdf/doc/docx/png/jpg/jpeg/gif/ppt/pptx/xlsx/xls/xlsm/xltx/txt/mp3/mp4/zip\",onChange:uploadFile// multiple=\"true\"\n}),!fileUrl.url?/*#__PURE__*/_jsxs(_Fragment,{children:[fileName.name?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:\"1rem\"},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSpinner,className:\"fa-spin\",style:{fontSize:\"1.7rem\"},onClick:function onClick(){}})})}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",theme:\"accent\",value:\"send\",style:{fontWeight:'500',fontSize:'0.9rem',marginTop:'10px'},disabled:true,children:\"Upload\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",theme:\"accent\",value:\"send\",style:{fontWeight:'500',fontSize:'0.9rem',marginTop:'10px'},enabled:true,children:\"Upload\"})})]})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(BlogPost,{})})})]});};export default Blog;","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Card","CardHeader","ListGroup","ListGroupItem","Row","Col","Form","FormGroup","FormInput","FormSelect","FormTextarea","DatePicker","FormCheckbox","Button","PageTitle","FontAwesomeIcon","faFileAlt","faSpinner","faTrash","BlogPosts","BlogPost","Blog","fileUrl","setFileUrl","fileInfo","setFileInfo","file_url","fileName","setfileName","uploadFile","e","file","target","files","reader","FileReader","readAsDataURL","onload","rawLog","result","split","dataSend","dataReq","data","name","type","fname","fetch","method","body","JSON","stringify","then","res","json","a","console","log","catch","submitForm","event","dtArr","url","file_name","file_type","file_size","size","one","two","requestOne","post","requestTwo","preventDefault","persist","all","spread","alert","window","location","reload","paddingTop","fontSize","fontWeight","marginTop"],"sources":["C:/Users/HP/Desktop/dashboard/src/views/Blog.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    Container,\r\n    Card,\r\n    CardHeader,\r\n    ListGroup,\r\n    ListGroupItem,\r\n    Row,\r\n    Col,\r\n    Form,\r\n    FormGroup,\r\n    FormInput,\r\n    FormSelect,\r\n    FormTextarea,\r\n    DatePicker,\r\n    FormCheckbox,\r\n    Button\r\n} from \"shards-react\";\r\nimport PageTitle from \"./../components/common/PageTitle\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faFileAlt, faSpinner, faTrash } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport BlogPosts from './BlogPosts';\r\nimport BlogPost from './BlogPost';\r\n\r\nconst Blog = () => {\r\n\r\n    const [fileUrl, setFileUrl] = useState({});\r\n    const [fileInfo, setFileInfo] = useState({});\r\n    const [fileName, setfileName] = useState({\r\n        file_url: \"\",\r\n    })\r\n\r\n    function uploadFile(e) {\r\n        var file = e.target.files[0] //the file\r\n        var reader = new FileReader() //this for convert to Base64 \r\n        reader.readAsDataURL(file) //start conversion...\r\n        reader.onload = function (e) { //.. once finished..\r\n            var rawLog = reader.result.split(',')[1]; //extract only thee file data part\r\n            var dataSend = { dataReq: { data: rawLog, name: file.name, type: file.type }, fname: \"uploadFilesToGoogleDrive\" }; //preapre info to send to API\r\n            fetch('https://script.google.com/macros/s/AKfycbxrJ9OhkB7n0QdO3hPAbyuQbFJ6f9Hv2C5AK--5kcCwGqP0dilfzKyj8vK6aoK1dQOO/exec', //your AppsScript URL\r\n                { method: \"POST\", body: JSON.stringify(dataSend) }) //send to Api\r\n                .then(res => res.json()).then((a) => {\r\n                    console.log(a) //See response\r\n                    setFileUrl(a);\r\n                    setFileInfo(file);\r\n                }).catch(e => console.log(e)) // Or Error in console\r\n        }\r\n        setfileName(file);\r\n    }\r\n\r\n    const submitForm = async (event) => {\r\n        const dtArr = {\r\n            // name: value.name,\r\n            // email: value.email,\r\n            // user_id: value.id,\r\n            // title: location.state.getData[0].title,\r\n            // message: sendDoc.message,\r\n            // ord_id: location.state.getData[0].id,\r\n            // conf_upload: sendDoc.conf_upload.toString(),\r\n            file_url: fileUrl.url,\r\n            file_name: fileInfo.name,\r\n            file_type: fileInfo.type,\r\n            file_size: fileInfo.size,\r\n        }\r\n\r\n        // let one = \"http://localhost:8000/essay-helpers/api/insertblog.php\";\r\n        // let two = \"http://localhost:8000/essay-helpers/api/getblog.php\";\r\n\r\n        let one = \"https://graduate-essay-helpers.com/api/insertblog.php\";\r\n        let two = \"https://graduate-essay-helpers.com/api/getblog.php\";\r\n\r\n        const requestOne = axios.post(one, dtArr);\r\n        const requestTwo = axios.post(two, dtArr);\r\n\r\n        try {\r\n            event.preventDefault();\r\n            event.persist();\r\n            axios.all([requestOne, requestTwo])\r\n                .then(axios.spread((...res) => {\r\n                    console.log(res);\r\n                    alert(\"blog document uploaded successfully\");\r\n                    window.location.reload();\r\n\r\n                }))\r\n        }\r\n        catch (error) { throw error; }\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <Container fluid className=\"main-content-container px-4 pb-4\">\r\n            <Row noGutters className=\"page-header py-4\">\r\n                <PageTitle title=\"Blog\" subtitle=\"Upload to blog page\" className=\"text-sm-left mb-3\" />\r\n            </Row>\r\n            <Row>\r\n                <Col lg=\"6\">\r\n                    <Form onSubmit={submitForm}>\r\n                        <FormGroup className=\"\">\r\n                            <FormInput\r\n                                type=\"file\"\r\n                                name=\"file_url\"\r\n                                accept=\"pdf/doc/docx/png/jpg/jpeg/gif/ppt/pptx/xlsx/xls/xlsm/xltx/txt/mp3/mp4/zip\"\r\n                                onChange={uploadFile}\r\n                            // multiple=\"true\"\r\n                            ></FormInput>\r\n\r\n                            {!fileUrl.url ?\r\n                                <>\r\n                                    {fileName.name ?\r\n                                        <>\r\n                                            <div style={{ paddingTop: \"1rem\" }}>\r\n                                                <FontAwesomeIcon\r\n                                                    icon={faSpinner}\r\n                                                    className=\"fa-spin\"\r\n                                                    style={{ fontSize: \"1.7rem\" }}\r\n                                                    onClick={() => { }} />\r\n                                            </div>\r\n                                        </>\r\n                                        :\r\n                                        <>\r\n                                        </>}\r\n                                    <Button\r\n                                        type=\"submit\" theme=\"accent\" value=\"send\"\r\n                                        style={{ fontWeight: '500', fontSize: '0.9rem', marginTop: '10px' }}\r\n                                        disabled\r\n                                    >Upload</Button>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <Button\r\n                                        type=\"submit\" theme=\"accent\" value=\"send\"\r\n                                        style={{ fontWeight: '500', fontSize: '0.9rem', marginTop: '10px' }}\r\n                                        enabled\r\n                                    >Upload</Button>\r\n                                </>\r\n                            }\r\n                        </FormGroup>\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col>\r\n                    <BlogPost />\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Blog;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
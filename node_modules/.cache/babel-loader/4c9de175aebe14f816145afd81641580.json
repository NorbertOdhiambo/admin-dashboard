{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import PageTitle from\"../../components/common/PageTitle\";import{Container,Row,Col,Button}from\"shards-react\";import{EditorState,convertToRaw}from'draft-js';import{Editor as Edtr}from'react-draft-wysiwyg';import draftToHtml from'draftjs-to-html';import'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';import{useHistory}from\"react-router-dom\";import axios from'axios';import'./Editor.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Editor=function Editor(){var history=useHistory();var _useState=useState({title:''}),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setuserInfo=_useState2[1];var onChangeValue=function onChangeValue(e){setuserInfo(_objectSpread(_objectSpread({},userInfo),{},_defineProperty({},e.target.name,e.target.value)));};var editorState=EditorState.createEmpty();var _useState3=useState(editorState),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var onEditorStateChange=function onEditorStateChange(editorState){setDescription(editorState);};var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),isError=_useState6[0],setError=_useState6[1];var addDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;event.preventDefault();event.persist();if(!(userInfo.description.value.length<50)){_context.next=6;break;}setError('Required! Add Content Section, Minimum length 50 characters...');return _context.abrupt(\"return\");case 6:// axios.post(`http://localhost:8080/addArticle`, {\naxios.post(\"https://editor.graduate-essay-helpers.com/addArticle\",{title:userInfo.title,description:userInfo.description.value}).then(function(res){if(res.data.success===true){history.push('/blog');console.log(res);}});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);throw _context.t0;case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function addDetails(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"main-content-container px-4 pb-4\",children:[/*#__PURE__*/_jsx(Row,{noGutters:true,className:\"page-header py-4\",children:/*#__PURE__*/_jsx(PageTitle,{title:\"Editor\",subtitle:\"edit blog page content\",className:\"text-sm-left mb-3\"})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"content_container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row content_row\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:addDetails,className:\"update__forms\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-12\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"font-weight-bold\",children:[\" Title \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\" * \"}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:userInfo.title,onChange:onChangeValue,className:\"form-control\",placeholder:\"Title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-12 editor\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"font-weight-bold\",children:[\" Content \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\" * \"}),\" \"]}),/*#__PURE__*/_jsx(Edtr,{editorState:description,toolbarClassName:\"toolbarClassName\",wrapperClassName:\"wrapperClassName\",editorClassName:\"editorClassName\",onEditorStateChange:onEditorStateChange}),/*#__PURE__*/_jsx(\"textarea\",{style:{display:'none'},disabled:true,ref:function ref(val){return userInfo.description=val;},value:draftToHtml(convertToRaw(description.getCurrentContent()))})]}),isError!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"errors\",children:[\" \",isError,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group col-sm-12 text-left\",children:/*#__PURE__*/_jsx(Button,{children:\"Submit\"})})]})})})})})})})]});};export default Editor;","map":{"version":3,"names":["React","useState","PageTitle","Container","Row","Col","Button","EditorState","convertToRaw","Editor","Edtr","draftToHtml","useHistory","axios","history","title","userInfo","setuserInfo","onChangeValue","e","target","name","value","editorState","createEmpty","description","setDescription","onEditorStateChange","isError","setError","addDetails","event","preventDefault","persist","length","post","then","res","data","success","push","console","log","display","val","getCurrentContent"],"sources":["C:/Users/HP/Desktop/dashboard/src/views/editor/Add.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport PageTitle from \"../../components/common/PageTitle\";\r\nimport {\r\n    Container,\r\n    Row,\r\n    Col,\r\n    Button\r\n} from \"shards-react\";\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\nimport { Editor as Edtr } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nimport './Editor.css';\r\n\r\nconst Editor = () => {\r\n    let history = useHistory();\r\n    const [userInfo, setuserInfo] = useState({\r\n        title: '',\r\n    });\r\n    const onChangeValue = (e) => {\r\n        setuserInfo({\r\n            ...userInfo,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    let editorState = EditorState.createEmpty();\r\n    const [description, setDescription] = useState(editorState);\r\n    const onEditorStateChange = (editorState) => {\r\n        setDescription(editorState);\r\n    }\r\n\r\n    const [isError, setError] = useState(null);\r\n    const addDetails = async (event) => {\r\n        try {\r\n            event.preventDefault();\r\n            event.persist();\r\n            if (userInfo.description.value.length < 50) {\r\n                setError('Required! Add Content Section, Minimum length 50 characters...');\r\n                return;\r\n            }\r\n            // axios.post(`http://localhost:8080/addArticle`, {\r\n            axios.post(`https://editor.graduate-essay-helpers.com/addArticle`, {\r\n                title: userInfo.title,\r\n                description: userInfo.description.value\r\n            })\r\n                .then(res => {\r\n                    if (res.data.success === true) {\r\n                        history.push('/blog');\r\n                        console.log(res);\r\n                    }\r\n                })\r\n        } catch (error) { throw error; }\r\n    }\r\n\r\n    return (\r\n        <Container fluid className=\"main-content-container px-4 pb-4\">\r\n            <Row noGutters className=\"page-header py-4\">\r\n                <PageTitle title=\"Editor\" subtitle=\"edit blog page content\" className=\"text-sm-left mb-3\" />\r\n            </Row>\r\n            <Row>\r\n                <Col>\r\n                    <>\r\n                        {/* <div className=\"App\"> */}\r\n                        <div className=\"content_container\">\r\n                            <div className=\"row content_row\">\r\n                                <form onSubmit={addDetails} className=\"update__forms\">\r\n                                    <div className=\"form-row\">\r\n                                        <div className=\"form-group col-md-12\">\r\n                                            <label className=\"font-weight-bold\"> Title <span className=\"required\"> * </span> </label>\r\n                                            <input type=\"text\" name=\"title\" value={userInfo.title} onChange={onChangeValue} className=\"form-control\" placeholder=\"Title\" required />\r\n                                        </div>\r\n                                        <div className=\"form-group col-md-12 editor\">\r\n                                            <label className=\"font-weight-bold\"> Content <span className=\"required\"> * </span> </label>\r\n                                            <Edtr\r\n                                                editorState={description}\r\n                                                toolbarClassName=\"toolbarClassName\"\r\n                                                wrapperClassName=\"wrapperClassName\"\r\n                                                editorClassName=\"editorClassName\"\r\n                                                onEditorStateChange={onEditorStateChange}\r\n                                            />\r\n                                            <textarea style={{ display: 'none' }} disabled ref={(val) => userInfo.description = val} value={draftToHtml(convertToRaw(description.getCurrentContent()))} />\r\n                                        </div>\r\n                                        {isError !== null && <div className=\"errors\"> {isError} </div>}\r\n                                        <div className=\"form-group col-sm-12 text-left\">\r\n                                            {/* <button type=\"submit\" className=\"btn btn__theme\"> Submit  </button> */}\r\n                                            <Button>Submit</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                        {/* </div> */}\r\n                    </>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Editor"],"mappings":"glBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,UAAP,KAAsB,mCAAtB,CACA,OACIC,SADJ,CAEIC,GAFJ,CAGIC,GAHJ,CAIIC,MAJJ,KAKO,cALP,CAMA,OAASC,WAAT,CAAsBC,YAAtB,KAA0C,UAA1C,CACA,OAASC,MAAM,GAAIC,KAAnB,KAA+B,qBAA/B,CACA,MAAOC,YAAP,KAAwB,iBAAxB,CACA,MAAO,kDAAP,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,MAAO,cAAP,C,6IAEA,GAAMJ,OAAM,CAAG,QAATA,OAAS,EAAM,CACjB,GAAIK,QAAO,CAAGF,UAAU,EAAxB,CACA,cAAgCX,QAAQ,CAAC,CACrCc,KAAK,CAAE,EAD8B,CAAD,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAGA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,CAAD,CAAO,CACzBF,WAAW,gCACJD,QADI,wBAENG,CAAC,CAACC,MAAF,CAASC,IAFH,CAEUF,CAAC,CAACC,MAAF,CAASE,KAFnB,GAAX,CAIH,CALD,CAOA,GAAIC,YAAW,CAAGhB,WAAW,CAACiB,WAAZ,EAAlB,CACA,eAAsCvB,QAAQ,CAACsB,WAAD,CAA9C,yCAAOE,WAAP,eAAoBC,cAApB,eACA,GAAMC,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACJ,WAAD,CAAiB,CACzCG,cAAc,CAACH,WAAD,CAAd,CACH,CAFD,CAIA,eAA4BtB,QAAQ,CAAC,IAAD,CAApC,yCAAO2B,OAAP,eAAgBC,QAAhB,eACA,GAAMC,WAAU,4FAAG,iBAAOC,KAAP,oIAEXA,KAAK,CAACC,cAAN,GACAD,KAAK,CAACE,OAAN,GAHW,KAIPjB,QAAQ,CAACS,WAAT,CAAqBH,KAArB,CAA2BY,MAA3B,CAAoC,EAJ7B,0BAKPL,QAAQ,CAAC,gEAAD,CAAR,CALO,wCAQX;AACAhB,KAAK,CAACsB,IAAN,wDAAmE,CAC/DpB,KAAK,CAAEC,QAAQ,CAACD,KAD+C,CAE/DU,WAAW,CAAET,QAAQ,CAACS,WAAT,CAAqBH,KAF6B,CAAnE,EAIKc,IAJL,CAIU,SAAAC,GAAG,CAAI,CACT,GAAIA,GAAG,CAACC,IAAJ,CAASC,OAAT,GAAqB,IAAzB,CAA+B,CAC3BzB,OAAO,CAAC0B,IAAR,CAAa,OAAb,EACAC,OAAO,CAACC,GAAR,CAAYL,GAAZ,EACH,CACJ,CATL,EATW,qKAAH,kBAAVP,WAAU,4CAAhB,CAsBA,mBACI,MAAC,SAAD,EAAW,KAAK,KAAhB,CAAiB,SAAS,CAAC,kCAA3B,wBACI,KAAC,GAAD,EAAK,SAAS,KAAd,CAAe,SAAS,CAAC,kBAAzB,uBACI,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,CAA0B,QAAQ,CAAC,wBAAnC,CAA4D,SAAS,CAAC,mBAAtE,EADJ,EADJ,cAII,KAAC,GAAD,wBACI,KAAC,GAAD,wBACI,sCAEI,YAAK,SAAS,CAAC,mBAAf,uBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAM,QAAQ,CAAEA,UAAhB,CAA4B,SAAS,CAAC,eAAtC,uBACI,aAAK,SAAS,CAAC,UAAf,wBACI,aAAK,SAAS,CAAC,sBAAf,wBACI,eAAO,SAAS,CAAC,kBAAjB,kCAA2C,aAAM,SAAS,CAAC,UAAhB,iBAA3C,OADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,KAAK,CAAEd,QAAQ,CAACD,KAAhD,CAAuD,QAAQ,CAAEG,aAAjE,CAAgF,SAAS,CAAC,cAA1F,CAAyG,WAAW,CAAC,OAArH,CAA6H,QAAQ,KAArI,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,6BAAf,wBACI,eAAO,SAAS,CAAC,kBAAjB,oCAA6C,aAAM,SAAS,CAAC,UAAhB,iBAA7C,OADJ,cAEI,KAAC,IAAD,EACI,WAAW,CAAEO,WADjB,CAEI,gBAAgB,CAAC,kBAFrB,CAGI,gBAAgB,CAAC,kBAHrB,CAII,eAAe,CAAC,iBAJpB,CAKI,mBAAmB,CAAEE,mBALzB,EAFJ,cASI,iBAAU,KAAK,CAAE,CAAEgB,OAAO,CAAE,MAAX,CAAjB,CAAsC,QAAQ,KAA9C,CAA+C,GAAG,CAAE,aAACC,GAAD,QAAS5B,SAAQ,CAACS,WAAT,CAAuBmB,GAAhC,EAApD,CAAyF,KAAK,CAAEjC,WAAW,CAACH,YAAY,CAACiB,WAAW,CAACoB,iBAAZ,EAAD,CAAb,CAA3G,EATJ,GALJ,CAgBKjB,OAAO,GAAK,IAAZ,eAAoB,aAAK,SAAS,CAAC,QAAf,eAA0BA,OAA1B,OAhBzB,cAiBI,YAAK,SAAS,CAAC,gCAAf,uBAEI,KAAC,MAAD,qBAFJ,EAjBJ,GADJ,EADJ,EADJ,EAFJ,EADJ,EADJ,EAJJ,GADJ,CA2CH,CApFD,CAsFA,cAAenB,OAAf"},"metadata":{},"sourceType":"module"}
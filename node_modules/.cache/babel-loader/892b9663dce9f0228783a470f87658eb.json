{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\essay-helpers\\\\admin_dashboard\\\\src\\\\authCheck.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ValidUserContext = /*#__PURE__*/createContext({\n  isLoggedIn: false,\n  apiAuthCheck: (enteredEmail, enteredPassword) => {},\n  localAuthCheck: () => {}\n});\nexport const ValidUserContextProvider = props => {\n  _s();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  async function apiAuthCheckHandler(enteredEmail, enteredPassword) {\n    const url = \"https://react-getting-started-aa01c-default-rtdb.firebaseio.com/seemsneat.json\";\n    await fetch(url).then(response => {\n      return response.json();\n    }).then(data => {\n      const validUsers = [];\n\n      for (const key in data) {\n        const validUser = {\n          id: key,\n          ...data[key]\n        };\n        validUsers.push(validUser);\n      }\n\n      const authUser = validUsers.find(user => user.username === enteredEmail && user.password === enteredPassword);\n\n      if (authUser !== undefined) {\n        localStorage.setItem(\"login-data\", JSON.stringify(authUser));\n        setIsLoggedIn(authUser);\n        alert(\"Logged in!\");\n      } else {\n        alert(\"Authentication failed!\");\n      }\n    }).catch(e => {\n      alert(\"Server error\");\n    });\n  }\n\n  const localAuthCheckHandler = () => {\n    const localData = JSON.parse(localStorage.getItem(\"login-data\"));\n\n    if (localData !== null) {\n      setIsLoggedIn(true);\n    }\n  };\n\n  const context = {\n    isLoggedIn: isLoggedIn,\n    apiAuthCheck: apiAuthCheckHandler,\n    localAuthCheck: localAuthCheckHandler\n  };\n  return /*#__PURE__*/_jsxDEV(ValidUserContext.Provider, {\n    value: context,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ValidUserContextProvider, \"g0MSgNVZk+vKiEFnDJ9VPEfswFA=\");\n\n_c = ValidUserContextProvider;\nexport default ValidUserContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"ValidUserContextProvider\");","map":{"version":3,"names":["createContext","useState","ValidUserContext","isLoggedIn","apiAuthCheck","enteredEmail","enteredPassword","localAuthCheck","ValidUserContextProvider","props","setIsLoggedIn","apiAuthCheckHandler","url","fetch","then","response","json","data","validUsers","key","validUser","id","push","authUser","find","user","username","password","undefined","localStorage","setItem","JSON","stringify","alert","catch","e","localAuthCheckHandler","localData","parse","getItem","context","children"],"sources":["C:/xampp/htdocs/essay-helpers/admin_dashboard/src/authCheck.js"],"sourcesContent":["import { createContext, useState } from \"react\";\r\n\r\nconst ValidUserContext = createContext({\r\n    isLoggedIn: false,\r\n    apiAuthCheck: (enteredEmail, enteredPassword) => { },\r\n    localAuthCheck: () => { },\r\n});\r\n\r\nexport const ValidUserContextProvider = (props) => {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n    async function apiAuthCheckHandler(enteredEmail, enteredPassword) {\r\n        const url =\r\n            \"https://react-getting-started-aa01c-default-rtdb.firebaseio.com/seemsneat.json\";\r\n        await fetch(url)\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                const validUsers = [];\r\n                for (const key in data) {\r\n                    const validUser = {\r\n                        id: key,\r\n                        ...data[key],\r\n                    };\r\n                    validUsers.push(validUser);\r\n                }\r\n                const authUser = validUsers.find(\r\n                    (user) =>\r\n                        user.username === enteredEmail && user.password === enteredPassword\r\n                );\r\n                if (authUser !== undefined) {\r\n                    localStorage.setItem(\"login-data\", JSON.stringify(authUser));\r\n                    setIsLoggedIn(authUser);\r\n                    alert(\"Logged in!\");\r\n                } else {\r\n                    alert(\"Authentication failed!\");\r\n                }\r\n            })\r\n            .catch((e) => {\r\n                alert(\"Server error\");\r\n            });\r\n    }\r\n\r\n    const localAuthCheckHandler = () => {\r\n        const localData = JSON.parse(localStorage.getItem(\"login-data\"));\r\n        if (localData !== null) {\r\n            setIsLoggedIn(true);\r\n        }\r\n    };\r\n\r\n    const context = {\r\n        isLoggedIn: isLoggedIn,\r\n        apiAuthCheck: apiAuthCheckHandler,\r\n        localAuthCheck: localAuthCheckHandler,\r\n    };\r\n\r\n    return (\r\n        <ValidUserContext.Provider value={context}>\r\n            {props.children}\r\n        </ValidUserContext.Provider>\r\n    );\r\n};\r\n\r\nexport default ValidUserContext;"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,OAAxC;;AAEA,MAAMC,gBAAgB,gBAAGF,aAAa,CAAC;EACnCG,UAAU,EAAE,KADuB;EAEnCC,YAAY,EAAE,CAACC,YAAD,EAAeC,eAAf,KAAmC,CAAG,CAFjB;EAGnCC,cAAc,EAAE,MAAM,CAAG;AAHU,CAAD,CAAtC;AAMA,OAAO,MAAMC,wBAAwB,GAAIC,KAAD,IAAW;EAAA;;EAC/C,MAAM,CAACN,UAAD,EAAaO,aAAb,IAA8BT,QAAQ,CAAC,KAAD,CAA5C;;EAEA,eAAeU,mBAAf,CAAmCN,YAAnC,EAAiDC,eAAjD,EAAkE;IAC9D,MAAMM,GAAG,GACL,gFADJ;IAEA,MAAMC,KAAK,CAACD,GAAD,CAAL,CACDE,IADC,CACKC,QAAD,IAAc;MAChB,OAAOA,QAAQ,CAACC,IAAT,EAAP;IACH,CAHC,EAIDF,IAJC,CAIKG,IAAD,IAAU;MACZ,MAAMC,UAAU,GAAG,EAAnB;;MACA,KAAK,MAAMC,GAAX,IAAkBF,IAAlB,EAAwB;QACpB,MAAMG,SAAS,GAAG;UACdC,EAAE,EAAEF,GADU;UAEd,GAAGF,IAAI,CAACE,GAAD;QAFO,CAAlB;QAIAD,UAAU,CAACI,IAAX,CAAgBF,SAAhB;MACH;;MACD,MAAMG,QAAQ,GAAGL,UAAU,CAACM,IAAX,CACZC,IAAD,IACIA,IAAI,CAACC,QAAL,KAAkBrB,YAAlB,IAAkCoB,IAAI,CAACE,QAAL,KAAkBrB,eAF3C,CAAjB;;MAIA,IAAIiB,QAAQ,KAAKK,SAAjB,EAA4B;QACxBC,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeT,QAAf,CAAnC;QACAb,aAAa,CAACa,QAAD,CAAb;QACAU,KAAK,CAAC,YAAD,CAAL;MACH,CAJD,MAIO;QACHA,KAAK,CAAC,wBAAD,CAAL;MACH;IACJ,CAxBC,EAyBDC,KAzBC,CAyBMC,CAAD,IAAO;MACVF,KAAK,CAAC,cAAD,CAAL;IACH,CA3BC,CAAN;EA4BH;;EAED,MAAMG,qBAAqB,GAAG,MAAM;IAChC,MAAMC,SAAS,GAAGN,IAAI,CAACO,KAAL,CAAWT,YAAY,CAACU,OAAb,CAAqB,YAArB,CAAX,CAAlB;;IACA,IAAIF,SAAS,KAAK,IAAlB,EAAwB;MACpB3B,aAAa,CAAC,IAAD,CAAb;IACH;EACJ,CALD;;EAOA,MAAM8B,OAAO,GAAG;IACZrC,UAAU,EAAEA,UADA;IAEZC,YAAY,EAAEO,mBAFF;IAGZJ,cAAc,EAAE6B;EAHJ,CAAhB;EAMA,oBACI,QAAC,gBAAD,CAAkB,QAAlB;IAA2B,KAAK,EAAEI,OAAlC;IAAA,UACK/B,KAAK,CAACgC;EADX;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CAtDM;;GAAMjC,wB;;KAAAA,wB;AAwDb,eAAeN,gBAAf"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _toConsumableArray from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/HP/Desktop/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import'./DropFileInput.css';import{ImageConfig}from'../../config/ImageConfig';import uploadImg from'../../assets/files/cloud-upload-regular-240.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DropFileInput=function DropFileInput(props){var wrapperRef=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),fileList=_useState2[0],setFileList=_useState2[1];var onDragEnter=function onDragEnter(){return wrapperRef.current.classList.add('dragover');};var onDragLeave=function onDragLeave(){return wrapperRef.current.classList.remove('dragover');};var onDrop=function onDrop(){return wrapperRef.current.classList.remove('dragover');};var onFileDrop=function onFileDrop(e){var newFile=e.target.files[0];if(newFile){var updatedList=[].concat(_toConsumableArray(fileList),[newFile]);setFileList(updatedList);props.onFileChange(updatedList);}};var fileRemove=function fileRemove(file){var updatedList=_toConsumableArray(fileList);updatedList.splice(fileList.indexOf(file),1);setFileList(updatedList);props.onFileChange(updatedList);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{ref:wrapperRef,className:\"drop-file-input\",onDragEnter:onDragEnter,onDragLeave:onDragLeave,onDrop:onDrop,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-input__label\",children:[/*#__PURE__*/_jsx(\"img\",{src:uploadImg,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Drag & Drop your files here\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",value:\"\",onChange:onFileDrop})]}),fileList.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-preview\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"drop-file-preview__title\",children:\"Ready to upload\"}),fileList.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-preview__item\",children:[/*#__PURE__*/_jsx(\"img\",{src:ImageConfig[item.type.split('/')[1]]||ImageConfig['default'],alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-preview__item__info\",children:[/*#__PURE__*/_jsx(\"p\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[item.size,\"B\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-file-preview__item__del\",onClick:function onClick(){return fileRemove(item);},children:\"x\"})]},index);})]}):null]});};export default DropFileInput;","map":{"version":3,"names":["React","useRef","useState","ImageConfig","uploadImg","DropFileInput","props","wrapperRef","fileList","setFileList","onDragEnter","current","classList","add","onDragLeave","remove","onDrop","onFileDrop","e","newFile","target","files","updatedList","onFileChange","fileRemove","file","splice","indexOf","length","map","item","index","type","split","name","size"],"sources":["C:/Users/HP/Desktop/dashboard/src/components/drop-file/DropFileInput.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './DropFileInput.css';\r\n\r\nimport { ImageConfig } from '../../config/ImageConfig';\r\nimport uploadImg from '../../assets/files/cloud-upload-regular-240.png';\r\n\r\nconst DropFileInput = props => {\r\n\r\n    const wrapperRef = useRef(null);\r\n\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n    const onDragEnter = () => wrapperRef.current.classList.add('dragover');\r\n\r\n    const onDragLeave = () => wrapperRef.current.classList.remove('dragover');\r\n\r\n    const onDrop = () => wrapperRef.current.classList.remove('dragover');\r\n\r\n    const onFileDrop = (e) => {\r\n        const newFile = e.target.files[0];\r\n        if (newFile) {\r\n            const updatedList = [...fileList, newFile];\r\n            setFileList(updatedList);\r\n            props.onFileChange(updatedList);\r\n        }\r\n    }\r\n\r\n    const fileRemove = (file) => {\r\n        const updatedList = [...fileList];\r\n        updatedList.splice(fileList.indexOf(file), 1);\r\n        setFileList(updatedList);\r\n        props.onFileChange(updatedList);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                ref={wrapperRef}\r\n                className=\"drop-file-input\"\r\n                onDragEnter={onDragEnter}\r\n                onDragLeave={onDragLeave}\r\n                onDrop={onDrop}\r\n            >\r\n                <div className=\"drop-file-input__label\">\r\n                    <img src={uploadImg} alt=\"\" />\r\n                    <p>Drag & Drop your files here</p>\r\n                </div>\r\n                <input type=\"file\" value=\"\" onChange={onFileDrop} />\r\n            </div>\r\n            {\r\n                fileList.length > 0 ? (\r\n                    <div className=\"drop-file-preview\">\r\n                        <p className=\"drop-file-preview__title\">\r\n                            Ready to upload\r\n                        </p>\r\n                        {\r\n                            fileList.map((item, index) => (\r\n                                <div key={index} className=\"drop-file-preview__item\">\r\n                                    <img src={ImageConfig[item.type.split('/')[1]] || ImageConfig['default']} alt=\"\" />\r\n                                    <div className=\"drop-file-preview__item__info\">\r\n                                        <p>{item.name}</p>\r\n                                        <p>{item.size}B</p>\r\n                                    </div>\r\n                                    <span className=\"drop-file-preview__item__del\" onClick={() => fileRemove(item)}>x</span>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                ) : null\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nDropFileInput.propTypes = {\r\n    onFileChange: PropTypes.func\r\n}\r\n\r\nexport default DropFileInput;"],"mappings":"8OAAA,MAAOA,MAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,KAAwC,OAAxC,CAGA,MAAO,qBAAP,CAEA,OAASC,WAAT,KAA4B,0BAA5B,CACA,MAAOC,UAAP,KAAsB,iDAAtB,C,6IAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAAAC,KAAK,CAAI,CAE3B,GAAMC,WAAU,CAAGN,MAAM,CAAC,IAAD,CAAzB,CAEA,cAAgCC,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,SAAMH,WAAU,CAACI,OAAX,CAAmBC,SAAnB,CAA6BC,GAA7B,CAAiC,UAAjC,CAAN,EAApB,CAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,SAAMP,WAAU,CAACI,OAAX,CAAmBC,SAAnB,CAA6BG,MAA7B,CAAoC,UAApC,CAAN,EAApB,CAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,SAAMT,WAAU,CAACI,OAAX,CAAmBC,SAAnB,CAA6BG,MAA7B,CAAoC,UAApC,CAAN,EAAf,CAEA,GAAME,WAAU,CAAG,QAAbA,WAAa,CAACC,CAAD,CAAO,CACtB,GAAMC,QAAO,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAhB,CACA,GAAIF,OAAJ,CAAa,CACT,GAAMG,YAAW,8BAAOd,QAAP,GAAiBW,OAAjB,EAAjB,CACAV,WAAW,CAACa,WAAD,CAAX,CACAhB,KAAK,CAACiB,YAAN,CAAmBD,WAAnB,EACH,CACJ,CAPD,CASA,GAAME,WAAU,CAAG,QAAbA,WAAa,CAACC,IAAD,CAAU,CACzB,GAAMH,YAAW,oBAAOd,QAAP,CAAjB,CACAc,WAAW,CAACI,MAAZ,CAAmBlB,QAAQ,CAACmB,OAAT,CAAiBF,IAAjB,CAAnB,CAA2C,CAA3C,EACAhB,WAAW,CAACa,WAAD,CAAX,CACAhB,KAAK,CAACiB,YAAN,CAAmBD,WAAnB,EACH,CALD,CAOA,mBACI,wCACI,aACI,GAAG,CAAEf,UADT,CAEI,SAAS,CAAC,iBAFd,CAGI,WAAW,CAAEG,WAHjB,CAII,WAAW,CAAEI,WAJjB,CAKI,MAAM,CAAEE,MALZ,wBAOI,aAAK,SAAS,CAAC,wBAAf,wBACI,YAAK,GAAG,CAAEZ,SAAV,CAAqB,GAAG,CAAC,EAAzB,EADJ,cAEI,kDAFJ,GAPJ,cAWI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,EAAzB,CAA4B,QAAQ,CAAEa,UAAtC,EAXJ,GADJ,CAeQT,QAAQ,CAACoB,MAAT,CAAkB,CAAlB,cACI,aAAK,SAAS,CAAC,mBAAf,wBACI,UAAG,SAAS,CAAC,0BAAb,6BADJ,CAKQpB,QAAQ,CAACqB,GAAT,CAAa,SAACC,IAAD,CAAOC,KAAP,qBACT,aAAiB,SAAS,CAAC,yBAA3B,wBACI,YAAK,GAAG,CAAE5B,WAAW,CAAC2B,IAAI,CAACE,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAD,CAAX,EAAwC9B,WAAW,CAAC,SAAD,CAA7D,CAA0E,GAAG,CAAC,EAA9E,EADJ,cAEI,aAAK,SAAS,CAAC,+BAAf,wBACI,mBAAI2B,IAAI,CAACI,IAAT,EADJ,cAEI,qBAAIJ,IAAI,CAACK,IAAT,OAFJ,GAFJ,cAMI,aAAM,SAAS,CAAC,8BAAhB,CAA+C,OAAO,CAAE,yBAAMX,WAAU,CAACM,IAAD,CAAhB,EAAxD,eANJ,GAAUC,KAAV,CADS,EAAb,CALR,GADJ,CAkBI,IAjCZ,GADJ,CAsCH,CAlED,CAwEA,cAAe1B,cAAf"},"metadata":{},"sourceType":"module"}